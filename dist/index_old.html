<!DOCTYPE html>
<html>

<head>
  <title>Andela Inverted Index Generator</title>
  <script src="css/bootstrap.css"></script>
  <script src="js/lib/jquery.min.js"></script>
  <script type="text/javascript" src="js/lib/bootstrap.js"></script>
  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body ng-app="InvertedIndex" ng-controller="InvertedIndexController as IICtrl">
  <div class="container">
    <!-- header starts here -->
    <div class="row">
          <div class="col-md-4 col-sm-4">
            <a href="index.html"><img src="images/logo.png" alt="page_logo" /></a>
          </div>
          <div class="col-md-8 col-sm-8">
            <h1 class="index_header"> INVERTED INDEX GENERATOR </h1>
          </div>
      </div>
  </div>

    <!-- header ends here -->
    <!--body starts here -->
  <div class="container">
    <div class="row">
      <div class="col-md-12 col-sm-12">
        <div class="row">
          <!-- List of json files start here -->
          <div class="col-md-3 col-sm-3">
            <h3 class="sub_title"> List of JSON Files </h3>
            <div class="row file_box">
              <div class="col-md-12 col-sm-12">
                <!-- file upload form starts here -->
                <input type="file" id="files" name="files" class="drop-box" ng-model="files" ng-click="resetProgress()" accept=".json" multiple="multiple" />
                <button ng-click="abortRead()">Cancel read</button>
                <button ng-click="upload()"> upload</button>
                <div id="progress_bar">
                  <div class="percent">0%</div>
                </div>
                <div class="drop-box" ng-bind-html="trusted_html_content">No File Read Yet</div>
                <!-- file upload form ends here -->
                <div>
                  <!-- list starts here -->
                  <h5> File(s) Selected </h5>
                  <p id="file_count">
                    <span ng-if="file_names.length <= 0">No File Selected</span>
                    <button ng-repeat="file_name in  file_names" ng-click="file_selected(file_name)" class="file_list"> {{ file_name }}</button>
                  </p>
                  <!-- list ends here -->
                </div>
              </div>
            </div>
          </div>
          <!-- List of json files ends here -->
          <!-- Index starts here -->
          <div class="col-md-6 col-sm-6">
            <h3 class="sub_title"> Index </h3>
            <!-- generated index table starts -->
            <div style="overflow-x:auto">
              <table>
                <tr>
                  <td ng-repeat="term in terms" ng-if="terms.length > 1">{{ term }}</td>
                </tr>
                <tr ng-repeat="each_index_display in index_display">
                  <td ng-repeat="indice in each_index_display track by $index">{{ indice }}</td>
                </tr>
              </table>
            </div>
          </div>
          <!-- generated inde tables ends here -->
        </div>
        <!-- Index ends here -->
        <!-- Search starts here -->
        <div class="col-md-3 col-sm-3">
          <h3 class="sub_title"> Search </h3>
          <!-- search form -->
          <span class="file_to">Enter words to search e.g. ['a', 'alice'],'book','me',['help']</span>
          <input type="text" name="search_words" id="search_words" class="form-control search" ng-model="search_strings" required>
          <span class="file_to"> Select File(s) to Search </span>
          <select name="file[]" id="file" class="form-control" ng-model="selected_file" ng-options="fn for fn in file_names" required multiple="multiple">
          </select>
          <button ng-click="search()" class="button" class="file_to">Search Index</button>
          <div style="overflow-x:auto" ng-repeat="each_index_search_display in index_search_display">
            <table>
              <tr ng-repeat="each_item_index_search_display in each_index_search_display track by $index" ng-if="each_index_search_display.length > 1">
                <td ng-repeat="col in each_item_index_search_display track by $index">{{ col }}</td>
              </tr>
            </table>
          </div>
        </div>
        <!-- Search ends here -->
      </div>
    </div>
    <!-- footer starts here -->
    <div class="col-md-12 col-sm-12 footer">
      <p class="copyright"> &copy Andela Talent Accelerators </p>
    </div>
    <!-- footer ends here -->
  </div>
  <!-- body ends here -->
  </div>
  <!-- container ends here -->
  <script src="js/lib//angular.min.js"></script>
  <script src="js/lib/angular-sanitize.js"></script>
  <script src="/js/inverted-index.js"></script>
  <script src="/js/app.js"></script>
</body>

</html>
